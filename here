// YourComponent.jsx
import React, { useState } from 'react';
import jsonData from './data.json';

const TreeNode = ({ node, onNodeClick }) => {
  const [isOpen, setIsOpen] = useState(false);

  const handleNodeClick = () => {
    setIsOpen(!isOpen);
    onNodeClick(node);
  };

  return (
    <li>
      <span onClick={handleNodeClick}>{node.name}</span>
      {isOpen && node.children.length > 0 && (
        <ul>
          {node.children.map(child => (
            <TreeNode key={child.id} node={child} onNodeClick={onNodeClick} />
          ))}
        </ul>
      )}
    </li>
  );
};

const TreeComponent = () => {
  const handleNodeClick = (node) => {
    console.log(`Clicked on ${node.name}`);
    // Add your logic for handling node clicks here
  };

  return (
    <ul>
      {jsonData.map(parent => (
        <TreeNode key={parent.id} node={parent} onNodeClick={handleNodeClick} />
      ))}
    </ul>
  );
};

export default TreeComponent;
