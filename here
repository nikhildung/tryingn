import React from 'react';
import Box from '@mui/material/Box';
import ExpandMoreIcon from '@mui/icons-material/ExpandMore';
import ChevronRightIcon from '@mui/icons-material/ChevronRight';
import { TreeView, TreeItem } from '@mui/material';

const data = [
  {
    "id": 1,
    "src": "...",
    "name": "Payments",
    "href": null,
    "Description": "This is Payments API",
    "data": {
      "children": [
        {
          "id": 11,
          "src": "...",
          "name": "CMS Payments",
          "href": "/cmspayments",
          "Description": "This is CMS Payments API",
          "data": {}
        },
        // ... (other children)
      ]
    }
  },
  // ... (other nodes)
];

const renderTree = (nodes) => (
  <TreeItem
    key={nodes.id.toString()} // Convert id to string to avoid key warning
    nodeId={nodes.id.toString()}
    label={nodes.name}
  >
    {Array.isArray(nodes.data.children)
      ? nodes.data.children.map((node) => renderTree(node))
      : null}
  </TreeItem>
);

const MuiTreeView = () => {
  return (
    <Box sx={{ flexGrow: 1, maxWidth: 300 }}>
      <TreeView
        aria-label="rich object"
        defaultCollapseIcon={<ExpandMoreIcon />}
        defaultExpandIcon={<ChevronRightIcon />}
      >
        {renderTree({ data })}
      </TreeView>
    </Box>
  );
};

export default MuiTreeView;
