import React, {useState} from 'react'
import './Sidebarsection.css'
import Task_Navbarlinks from '../Task_Navbarlinks'
import jsonData from '../API/Sidebar.json'


const sidebarsection = () => {
  const TreeNode = ({ node, onNodeClick }) => {
    const [isOpen, setIsOpen] = useState(false);
  
    const handleNodeClick = () => {
      setIsOpen(!isOpen);
      onNodeClick(node);
    };
  
    return (
      <li>
        <span onClick={handleNodeClick}>{node.name}</span>
        {isOpen && node.children.length > 0 && (
          <ul>
            {node.children.map(child => (
              <TreeNode key={child.id} node={child} onNodeClick={onNodeClick} />
            ))}
          </ul>
        )}
      </li>
    );
  };
  
  const handleNodeClick = (node) => {
    console.log(`Clicked on ${node.name}`);
    // Add your logic for handling node clicks here
  };
  return (
    <div><aside className='API_aside'>
        <h2>Categories</h2>
        {/* <div className='align_centre navbar_links'>
          <ul>

            <Task_Navbarlinks link='/' title='Dummy'/>
          </ul>


        </div> */}


    <ul>
      {jsonData.map(parent => (
        <TreeNode key={parent.id} node={parent} onNodeClick={handleNodeClick} />
      ))}
    </ul>
    </aside>
    </div>
  );


}

export default sidebarsection
