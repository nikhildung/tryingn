// Import necessary modules and components
import React, { useState } from 'react';
import { TreeView } from '@mui/x-tree-view/TreeView';
import { TreeItem } from '@mui/x-tree-view/TreeItem';
import ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';
import ArrowRightIcon from '@mui/icons-material/ArrowRight';

const data = [
  // Your data array here...
];

const App = () => {
  const [selectedNode, setSelectedNode] = useState(null);

  const handleNodeSelect = (event, node) => {
    if (node.href) {
      // If the clicked node has a URL, redirect to that URL
      window.location.href = node.href;
    } else {
      // If no URL, update the selectedNode state
      setSelectedNode(node.id.toString());
    }
  };

  const renderTree = (nodes) => (
    <TreeItem
      key={nodes.id}
      nodeId={nodes.id.toString()}
      label={nodes.name}
      onLabelClick={(e) => handleNodeSelect(e, nodes)}
      icon={nodes.children ? <ArrowRightIcon /> : null}
      endIcon={nodes.children ? <ArrowDropDownIcon /> : null}
    >
      {Array.isArray(nodes.children) && nodes.children.length > 0
        ? nodes.children.map((node) => renderTree(node))
        : null}
    </TreeItem>
  );

  return (
    <div>
      <TreeView
        defaultCollapseIcon={<ArrowDropDownIcon />}
        defaultExpandIcon={<ArrowRightIcon />}
        selected={selectedNode}
        onNodeSelect={handleNodeSelect}
      >
        {data.map((node) => renderTree(node))}
      </TreeView>
    </div>
  );
};

export default App;
