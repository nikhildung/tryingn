// YourComponent.jsx
import React, { useState } from 'react';
import jsonData from './data.json';
import './TreeComponent.css'; // Import a separate CSS file for styling

const TreeNode = ({ node, onNodeClick }) => {
  const [isOpen, setIsOpen] = useState(false);

  const handleNodeClick = () => {
    setIsOpen(!isOpen);
    onNodeClick(node);
  };

  return (
    <li>
      <label className="tree-node-label">
        <input type="checkbox" className="tree-node-checkbox" />
        <span
          style={{ fontSize: '16px' }}
          className="tree-node-text"
          onClick={handleNodeClick}
        >
          {node.name}
        </span>
      </label>
      {isOpen && node.children.length > 0 && (
        <ul>
          {node.children.map(child => (
            <TreeNode key={child.id} node={child} onNodeClick={onNodeClick} />
          ))}
        </ul>
      )}
    </li>
  );
};

const TreeComponent = () => {
  const handleNodeClick = (node) => {
    console.log(`Clicked on ${node.name}`);
    // Add your logic for handling node clicks here
  };

  return (
    <ul>
      {jsonData.map(parent => (
        <TreeNode key={parent.id} node={parent} onNodeClick={handleNodeClick} />
      ))}
    </ul>
  );
};

export default TreeComponent;
