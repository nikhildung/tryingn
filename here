
import React, { useState } from "react";
import { TreeView } from "@mui/x-tree-view/TreeView";
import { TreeItem } from "@mui/x-tree-view/TreeItem";
import TilesRendering from "./TilesRendering"; // Replace with the actual path to your TilesRendering component

const Homepage = () => {
  const [selectedNode, setSelectedNode] = useState(null);

  const handleNodeSelect = (event, nodeId) => {
    setSelectedNode(nodeId);
  };

  const renderTree = (nodes) => (
    <TreeItem key={nodes.id} nodeId={nodes.id} label={nodes.name}>
      {Array.isArray(nodes.children)
        ? nodes.children.map((node) => renderTree(node))
        : null}
    </TreeItem>
  );

  const renderChildrenAsTiles = (selectedNode) => {
    if (selectedNode && selectedNode.children) {
      return (
        <div>
          {selectedNode.children.map((child) => (
            <TilesRendering key={child.id} selectedNode={child} />
          ))}
        </div>
      );
    }
    return null;
  };

  return (
    <div style={{ display: "flex" }}>
      <TreeView
        defaultCollapseIcon={<div>-</div>}
        defaultExpandIcon={<span>+</span>}
        selected={selectedNode}
        onNodeSelect={handleNodeSelect}
      >
        {data.map((node) => renderTree(node))}
      </TreeView>

      <div style={{ marginLeft: "20px" }}>
        {renderChildrenAsTiles(selectedNode)}
      </div>
    </div>
  );
};

export default Homepage;
p pm
